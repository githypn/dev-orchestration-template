````markdown
# アーキテクチャ（Architecture）

## 目的

責務境界を明確にし、実装・テスト・監査を容易にする。

## モジュール責務

```
src/{{PACKAGE_NAME}}/
├─ core/          型、ドメインモデル、例外、共通ユーティリティ
├─ domain/        ドメインロジック
```

テンプレート共通モジュール（`src/` 直下）:

```
src/
├─ observability/  OpenTelemetry 計装（オプショナル。OTel SDK 未インストール時は no-op）
├─ sample/         Design by Contract のサンプル実装（テンプレート参考用）
```

<!-- project-config.yml の modules に合わせてモジュールを追加する -->

### core/

- 型定義（ドメインオブジェクト）
- ドメイン例外
- 共通ユーティリティ

### domain/

- プロジェクト固有のドメインロジック

<!-- 各モジュールの責務を記載 -->

## データフロー

```
1. <!-- 入力 -->
       │
       ▼
2. <!-- 処理 -->
       │
       ▼
3. <!-- 出力 -->
```

## 依存ルール

| モジュール     | 依存してよい     | 依存禁止          |
| -------------- | ---------------- | ----------------- |
| core           | （なし：最下層） | 他の全モジュール  |
| domain         | core             | <!-- 禁止対象 --> |
| observability  | （外部: OTel SDK） | core, domain   |
| sample         | （なし）         | core, domain      |

<!-- 必要に応じて追加 -->

## 不変条件

- 禁止操作を実装しない（P-001）
- 判断不能時は安全側に倒す（P-010: フェイルクローズ）
- 制約は常に優先され、ドメインロジックが回避できない

## 設計論点（必要に応じて ADR）

<!-- プロジェクト固有の設計論点を記載 -->
````
